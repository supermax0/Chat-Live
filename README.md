# ๐ฌ ูุธุงู ุงููุญุงุฏุซุฉ ุงููุจุงุดุฑุฉ (Live Chat System)

ูุธุงู ูุญุงุฏุซุฉ ูุจุงุดุฑุฉ ุงุญุชุฑุงูู ุจูู ุงูุนููุงุก ูููุฏูุจู ุงููุจูุนุงุช ูุจูู ุนูู **Python Flask** ู **Flask-SocketIO** ูุน ุฏุนู ูุงูู ูู **WebSockets** ููุงุฌูุฉ ูุณุชุฎุฏู ุญุฏูุซุฉ ููุชุฌุงูุจุฉ.

![Python](https://img.shields.io/badge/Python-3.11+-blue.svg)
![Flask](https://img.shields.io/badge/Flask-3.0.0-green.svg)
![SocketIO](https://img.shields.io/badge/SocketIO-5.3.5-orange.svg)
![License](https://img.shields.io/badge/License-ISC-lightgrey.svg)

## โจ ุงููููุฒุงุช

### ูููุณุชุฎุฏููู
- ๐ฌ **ูุญุงุฏุซุฉ ูุจุงุดุฑุฉ** ุจูู ุงูุนููุงุก ูููุฏูุจู ุงููุจูุนุงุช
- ๐ฑ **ุชุตููู ูุชุฌุงูุจ** ูุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ (ููุจุงููุ ุชุงุจูุชุ ุฏูุณูุชูุจ)
- ๐ผ๏ธ **ุฏุนู ุฑูุน ุงูุตูุฑ ูุงูููุฏูู** ูู ุงููุญุงุฏุซุงุช
- ๐ฆ **ุจุทุงูุงุช ุงูููุชุฌุงุช** - ูููู ููููุฏูุจูู ุฅุฑุณุงู ุจุทุงูุงุช ููุชุฌุงุช ุชูุงุนููุฉ
- โก **ุฅุดุนุงุฑุงุช ููุฑูุฉ** ุนูุฏ ูุตูู ุฑุณุงุฆู ุฌุฏูุฏุฉ
- โ๏ธ **ูุคุดุฑ ุงููุชุงุจุฉ** (Typing Indicator)
- ๐พ **ุญูุธ ุงูุฌูุณุงุช ุชููุงุฆูุงู** - ูุง ุชููุฏ ุฌูุณุชู ุนูุฏ ุชุญุฏูุซ ุงูุตูุญุฉ
- ๐ **ุชุณุฌูู ุจุฑูู ุงููุงุชู** ููุนููุงุก

### ููููุฏูุจูู
- ๐ **ููุญุฉ ุชุญูู ุดุงููุฉ** ูุน ุฅุญุตุงุฆูุงุช ููุตูุฉ
- ๐ **ุฅุดุนุงุฑุงุช ุงููุญุงุฏุซุงุช ุงูุฌุฏูุฏุฉ** ูุงูุนููุงุก ุงูููุชุธุฑูู
- ๐ **ุฅุญุตุงุฆูุงุช ุงูุฃุฏุงุก** (ุฑุณุงุฆู ุงููููุ ูุญุงุฏุซุงุช ูุดุทุฉ)
- ๐ **ููุชุฑุฉ ูุชุฑุชูุจ ุงููุญุงุฏุซุงุช** ุญุณุจ ุงูุญุงูุฉ ูุงูุฃููููุฉ
- ๐ฑ **ูุงุฌูุฉ ูุญุณููุฉ ููุฌูุงู** ูุน ุฏุนู ุงูููุณ

### ููุฅุฏูู
- ๐ฅ **ุฅุฏุงุฑุฉ ุงูููุฏูุจูู** (ุฅุถุงูุฉุ ุญุฐูุ ูุฑุงูุจุฉ)
- ๐ **ููุญุฉ ุชุญูู ูุชูุฏูุฉ** ูุน ุฅุญุตุงุฆูุงุช ุดุงููุฉ
- ๐ **ูุฑุงูุจุฉ ุงูุฌูุณุงุช ุงููุดุทุฉ** ูุฅููุงููุฉ ุฅุบูุงููุง
- ๐ค **ุฅุฏุงุฑุฉ ุงูุนููุงุก** ูุนุฑุถ ูุญุงุฏุซุงุชูู
- ๐ฌ **ุนุฑุถ ูุงูุฑุฏ ุนูู ุงููุญุงุฏุซุงุช** ูุจุงุดุฑุฉ ูู ููุญุฉ ุงูุฅุฏูู
- ๐ฆ **ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช** (ุฅุถุงูุฉุ ุชุนุฏููุ ุญุฐู) ูุน ุฑูุน ุตูุฑ ูููุฏูู
- ๐ **ุฅุญุตุงุฆูุงุช ูู ุงูููุช ุงููุนูู** (ุนููุงุก ููุชุธุฑููุ ูุญุงุฏุซุงุช ูุดุทุฉุ ุฑุณุงุฆู ุงูููู)

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### ุงููุชุทูุจุงุช

- **Python 3.11+** (ูููุตุญ ุจู 3.11.9)
- **pip** (ูุฏูุฑ ุญุฒู Python)
- **Git** (ูููุณุฎ ูู GitHub)

### ุงูุชุซุจูุช

1. **ุงุณุชูุณุงุฎ ุงููุณุชูุฏุน:**
```bash
git clone https://github.com/yourusername/live-chat.git
cd live-chat
```

2. **ุฅูุดุงุก ุจูุฆุฉ ุงูุชุฑุงุถูุฉ (ูููุตู ุจู):**
```bash
# Windows
python -m venv venv
venv\Scripts\activate

# Linux/Mac
python3 -m venv venv
source venv/bin/activate
```

3. **ุชุซุจูุช ุงููุชุทูุจุงุช:**
```bash
pip install -r requirements.txt
```

4. **ุชุดุบูู ุงูุฎุงุฏู:**
```bash
python app.py
```

5. **ูุชุญ ุงููุชุตูุญ:**
- **ุตูุญุฉ ุงูุนููู**: http://localhost:10000/
- **ููุญุฉ ุชุญูู ุงูููุฏูุจ**: http://localhost:10000/sales-dashboard.html
- **ููุญุฉ ุชุญูู ุงูุฅุฏูู**: http://localhost:10000/admin.html

## ๐ ุงูุญุณุงุจุงุช ุงูุงูุชุฑุงุถูุฉ

### โ๏ธ ููู: ุชุบููุฑ ูููุงุช ุงููุฑูุฑ ูู ุงูุฅูุชุงุฌ

ุนูุฏ ุงููุดุฑ ูู ุงูุฅูุชุงุฌุ **ูุฌุจ ุชุบููุฑ** ูููุงุช ุงููุฑูุฑ ุงูุงูุชุฑุงุถูุฉ:

**ุงูุฅุฏูู:**
- **ุงุณู ุงููุณุชุฎุฏู**: `admin`
- **ูููุฉ ุงููุฑูุฑ**: `admin123` โ๏ธ **ุบูุฑ ุขูู ููุฅูุชุงุฌ**

ูููู ููุฅุฏูู ุฅุถุงูุฉ ููุฏูุจูู ุฌุฏุฏ ูู ููุญุฉ ุงูุชุญูู.

## ๐ ุจููุฉ ุงููุดุฑูุน

```
live-chat/
โโโ app.py                      # ุงูุฎุงุฏู ุงูุฑุฆูุณู (Flask + SocketIO)
โโโ requirements.txt            # ูุชุทูุจุงุช Python
โโโ Procfile                    # ููู ุงููุดุฑ (Render.com)
โโโ render.yaml                 # ุชูููู Render.com
โโโ runtime.txt                 # ุฅุตุฏุงุฑ Python
โโโ .gunicorn.conf.py          # ุฅุนุฏุงุฏุงุช Gunicorn
โโโ .gitignore                  # ูููุงุช Git ุงููุณุชุซูุงุฉ
โโโ .env.example                # ูุซุงู ููุชุบูุฑุงุช ุงูุจูุฆุฉ
โ
โโโ public/                     # ุงููููุงุช ุงูุซุงุจุชุฉ
โ   โโโ index.html              # ุตูุญุฉ ุงูุนููู
โ   โโโ customer.js              # ููุทู ุงูุนููู
โ   โโโ sales-dashboard.html     # ููุญุฉ ุชุญูู ุงูููุฏูุจ
โ   โโโ sales-rep.js             # ููุทู ุงูููุฏูุจ
โ   โโโ admin.html               # ููุญุฉ ุชุญูู ุงูุฅุฏูู
โ   โโโ admin.js                 # ููุทู ุงูุฅุฏูู
โ   โโโ styles.css               # ุงูุชุตููู ุงูููุญุฏ
โ
โโโ uploads/                     # ุงููููุงุช ุงููุฑููุนุฉ
โ   โโโ images/                  # ุงูุตูุฑ ุงููุฑููุนุฉ
โ   โโโ products/                # ุตูุฑ ูููุฏูููุงุช ุงูููุชุฌุงุช
โ
โโโ README.md                    # ูุฐุง ุงูููู
โโโ README_DEPLOYMENT.md         # ุฏููู ุงููุดุฑ ุนูู Render.com
โโโ DEPLOYMENT_CHANGES.md        # ููุฎุต ุชุบููุฑุงุช ุงููุดุฑ
โโโ chat.db                      # ูุงุนุฏุฉ ุงูุจูุงูุงุช SQLite (ูููุดุฃ ุชููุงุฆูุงู)
```

## ๐ ุงููุดุฑ ุนูู ุงูุณุญุงุจุฉ

### Render.com

ุงููุดุฑูุน ุฌุงูุฒ ูููุดุฑ ุนูู **Render.com** ูุจุงุดุฑุฉ. ุฑุงุฌุน [README_DEPLOYMENT.md](README_DEPLOYMENT.md) ููุชุนูููุงุช ุงูุชูุตูููุฉ.

**ููุฎุต ุณุฑูุน:**
1. ุงุฏูุน ุงูููุฏ ุฅูู GitHub
2. ุฃูุดุฆ Web Service ุฌุฏูุฏ ุนูู Render.com
3. ุงุฑุจุท ุงููุณุชูุฏุน (ุณูุชู ุงูุชุดุงู `render.yaml` ุชููุงุฆูุงู)
4. ุฃุถู Persistent Disk ููุงุนุฏุฉ ุงูุจูุงูุงุช
5. ุงุถุจุท ูุชุบูุฑุงุช ุงูุจูุฆุฉ

### ููุตุงุช ุฃุฎุฑู

ูููู ูุดุฑ ุงููุดุฑูุน ุนูู ุฃู ููุตุฉ ุชุฏุนู Python:
- **Heroku** (ุงุณุชุฎุฏู `Procfile`)
- **Railway**
- **DigitalOcean App Platform**
- **AWS Elastic Beanstalk**
- **Google Cloud Run**

## ๐ง ุงูุชูููู

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ

ุฃูุดุฆ ููู `.env` (ุงูุธุฑ `.env.example`):

```env
SECRET_KEY=your-secret-key-here-change-in-production
FLASK_ENV=development  # ุฃู production
PORT=10000
DATABASE_URL=./chat.db
```

### ุฅุนุฏุงุฏุงุช ุงูุฅูุชุงุฌ

ููุฅูุชุงุฌุ ุงุณุชุฎุฏู:
- **Gunicorn** ูุฎุงุฏู WSGI
- **Eventlet** ูุนุงูู async
- **PostgreSQL** ุจุฏูุงู ูู SQLite (ููุญุฌู ุงููุจูุฑ)

## ๐ก API Endpoints

### ุงูุนููู
- `GET /api/conversations/:userId` - ุฌูุจ ูุญุงุฏุซุงุช ุงููุณุชุฎุฏู
- `GET /api/messages/:conversationId` - ุฌูุจ ุฑุณุงุฆู ุงููุญุงุฏุซุฉ
- `GET /api/customer/session/:sessionId/validate` - ุงูุชุญูู ูู ุฌูุณุฉ ุงูุนููู

### ุงูููุฏูุจ
- `POST /api/rep/login` - ุชุณุฌูู ุฏุฎูู ุงูููุฏูุจ
- `GET /api/rep/sessions/:sessionId/validate` - ุงูุชุญูู ูู ุงูุฌูุณุฉ
- `GET /api/rep/stats/:repId` - ุฅุญุตุงุฆูุงุช ุงูููุฏูุจ
- `GET /api/products` - ุฌูุจ ุงูููุชุฌุงุช

### ุงูุฅุฏูู
- `POST /api/admin/login` - ุชุณุฌูู ุฏุฎูู ุงูุฅุฏูู
- `GET /api/admin/reps` - ุฌูุจ ูุงุฆูุฉ ุงูููุฏูุจูู
- `POST /api/admin/add-rep` - ุฅุถุงูุฉ ููุฏูุจ ุฌุฏูุฏ
- `DELETE /api/admin/rep/:id` - ุญุฐู ููุฏูุจ
- `GET /api/admin/stats` - ุฌูุจ ุงูุฅุญุตุงุฆูุงุช
- `GET /api/admin/sessions` - ุฌูุจ ุงูุฌูุณุงุช ุงููุดุทุฉ
- `POST /api/admin/sessions/:sessionId/logout` - ุฅุบูุงู ุฌูุณุฉ
- `GET /api/admin/customers` - ุฌูุจ ุงูุนููุงุก
- `GET /api/admin/conversations` - ุฌูุจ ุฌููุน ุงููุญุงุฏุซุงุช
- `GET /api/admin/conversations/:id/messages` - ุฌูุจ ุฑุณุงุฆู ูุญุงุฏุซุฉ
- `GET /api/admin/products` - ุฌูุจ ุงูููุชุฌุงุช
- `POST /api/admin/products` - ุฅุถุงูุฉ ููุชุฌ
- `PUT /api/admin/products/:id` - ุชุญุฏูุซ ููุชุฌ
- `DELETE /api/admin/products/:id` - ุญุฐู ููุชุฌ

## ๐ Socket.IO Events

### ุงูุนููู
- `register` - ุชุณุฌูู ุงูุนููู (ูุน ุงูุงุณู ูุฑูู ุงููุงุชู)
- `join_conversation` - ุงูุงูุถูุงู ููุญุงุฏุซุฉ
- `send_message` - ุฅุฑุณุงู ุฑุณุงูุฉ
- `typing` - ูุคุดุฑ ุงููุชุงุจุฉ
- `conversation_created` - ุชู ุฅูุดุงุก ูุญุงุฏุซุฉ
- `sales_rep_assigned` - ุชู ุชุนููู ููุฏูุจ

### ุงูููุฏูุจ
- `register` - ุชุณุฌูู ุงูููุฏูุจ
- `get_conversations` - ุฌูุจ ุงููุญุงุฏุซุงุช
- `join_conversation` - ุงูุงูุถูุงู ููุญุงุฏุซุฉ
- `send_message` - ุฅุฑุณุงู ุฑุณุงูุฉ (ูุฏุนู ุงููุตุ ุงูุตูุฑุ ุจุทุงูุงุช ุงูููุชุฌุงุช)
- `mark_read` - ุชุญุฏูุฏ ุงูุฑุณุงุฆู ูููุฑูุกุฉ
- `new_conversation_assigned` - ูุญุงุฏุซุฉ ุฌุฏูุฏุฉ ูุฎุตุตุฉ

### ุนุงู
- `new_message` - ุฑุณุงูุฉ ุฌุฏูุฏุฉ
- `user_typing` - ูุคุดุฑ ุงููุชุงุจุฉ
- `users_online` - ูุงุฆูุฉ ุงููุณุชุฎุฏููู ุงููุชุตููู
- `waiting_customers_update` - ุชุญุฏูุซ ุนุฏุฏ ุงูุนููุงุก ุงูููุชุธุฑูู

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ูุณุชุฎุฏู ุงููุธุงู **SQLite** ูุน ุงูุฌุฏุงูู ุงูุชุงููุฉ:

- `users` - ุงููุณุชุฎุฏููู (ุนููุงุก ูููุฏูุจูู)
- `conversations` - ุงููุญุงุฏุซุงุช
- `messages` - ุงูุฑุณุงุฆู (ูุตุ ุตูุฑุ ุจุทุงูุงุช ููุชุฌุงุช)
- `sales_reps` - ุงูููุฏูุจูู
- `sessions` - ุฌูุณุงุช ุงูููุฏูุจูู ูุงูุฅุฏูู
- `customer_sessions` - ุฌูุณุงุช ุงูุนููุงุก
- `products` - ุงูููุชุฌุงุช

### ููุงุญุธุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

- **SQLite** ููุงุณุจ ููุงุณุชุฎุฏุงู ุงูุตุบูุฑ/ุงููุชูุณุท
- ููุงุณุชุฎุฏุงู ุงููุจูุฑุ ูููุตุญ ุจุงูุงูุชูุงู ุฅูู **PostgreSQL**
- ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชููุดุฃ ุชููุงุฆูุงู ุนูุฏ ุฃูู ุชุดุบูู
- WAL mode ููุนูู ูุฏุนู ุงููุชุงุจุฉ ุงููุชุฒุงููุฉ

## ๐๏ธ ุงูุชุทููุฑ

### ูุถุน ุงูุชุทููุฑ

```bash
# ุชุดุบูู ูุน ุฅุนุงุฏุฉ ุงูุชุญููู ุงูุชููุงุฆู
python app.py
```

### ูุถุน ุงูุฅูุชุงุฌ

```bash
# ุงุณุชุฎุฏุงู Gunicorn
gunicorn --worker-class gevent -w 1 --bind 0.0.0.0:10000 app:app
```

### ุงูุงุฎุชุจุงุฑ

```bash
# ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
curl http://localhost:10000/

# ุงุฎุชุจุงุฑ API
curl http://localhost:10000/api/admin/stats
```

## ๐ ุงูุฃูุงู

### ูุจู ุงููุดุฑ ูู ุงูุฅูุชุงุฌ:

1. โ **ุบููุฑ SECRET_KEY** - ุงุณุชุฎุฏู ููุชุงุญ ุนุดูุงุฆู ููู
2. โ **ุบููุฑ ูููุงุช ุงููุฑูุฑ ุงูุงูุชุฑุงุถูุฉ** - ุฎุงุตุฉ ุญุณุงุจ ุงูุฅุฏูู
3. โ **ูููุฏ CORS** - ุญุฏุฏ ุงููุทุงูุงุช ุงููุณููุญุฉ ุจุฏูุงู ูู `*`
4. โ **ูุนูู HTTPS** - ูุนุธู ููุตุงุช ุงููุดุฑ ุชููุฑ HTTPS ุชููุงุฆูุงู
5. โ **ุงุณุชุฎุฏู ูุงุนุฏุฉ ุจูุงูุงุช ุขููุฉ** - PostgreSQL ูุน ุชุดููุฑ
6. โ **ุฑุงูุจ ุงูุณุฌูุงุช** - ุฑุงูุจ ูุญุงููุงุช ุงููุตูู ุงููุดุจููุฉ

## ๐ ุงูุชุฑุฎูุต

ISC License - ุฑุงุฌุน ููู [LICENSE](LICENSE) ููุชูุงุตูู.

## ๐ค ุงููุณุงููุฉ

ูุฑุญุจ ุจุงููุณุงููุงุช! ุฑุงุฌุน [CONTRIBUTING.md](CONTRIBUTING.md) ูุฅุฑุดุงุฏุงุช ุงููุณุงููุฉ.

## ๐ ุงูุฏุนู

- **ุงููุดุงูู**: ุงูุชุญ [Issue](https://github.com/yourusername/live-chat/issues)
- **ุงูุฃุณุฆูุฉ**: ุงูุชุญ [Discussion](https://github.com/yourusername/live-chat/discussions)

## ๐บ๏ธ ุฎุงุฑุทุฉ ุงูุทุฑูู

- [ ] ุฏุนู ุชุนุฏุฏ ุงููุบุงุช (i18n)
- [ ] ุชูุงูู ูุน ุฃูุธูุฉ CRM
- [ ] ุชุทุจูู ููุจุงูู (React Native)
- [ ] ุฏุนู ุงููููุงุช ุงูุตูุชูุฉ
- [ ] ูุธุงู ุชูููู ุงูููุฏูุจูู
- [ ] ุชูุงุฑูุฑ ูุชูุฏูุฉ ูุฅุญุตุงุฆูุงุช

## โญ ุฅุฐุง ุฃุนุฌุจู ุงููุดุฑูุน

ูุง ุชูุณู ุฅุนุทุงุก โญ ูููุณุชูุฏุน!

---

**ุตููุน ุจู โค๏ธ ุจุงุณุชุฎุฏุงู Flask ู SocketIO**
